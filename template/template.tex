\documentclass{ctexart}

\usepackage{tcolorbox}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{listings}
\usepackage[dvipsnames]{xcolor}
\usepackage[left=2cm,right=2cm]{geometry}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{lightlightgray}{rgb}{0.9,0.9,0.9}
\lstset{
basicstyle = \footnotesize\ttfamily,
showstringspaces=false,
xleftmargin=2em,
backgroundcolor=\color{lightlightgray},
breaklines = true,
}

\lstdefinestyle{ccode}{
    belowcaptionskip=1\baselineskip,
    xleftmargin=\parindent,
    language=C,
    showstringspaces=false,
    keywordstyle=\bfseries\color{green!40!black},
    commentstyle=\itshape\color{purple!40!black},
    identifierstyle=\color{blue},
    stringstyle=\color{orange},
    tabsize=2,
    numbers=left, 
    numbersep=5pt,
    numberstyle=\tiny\color{mygray},
    stringstyle=\color{mymauve},
}

\lstdefinestyle{cmd}{}

\title{实验报告1}
\author{PB24000096 刘文西}

\begin{document}

\maketitle
\section{实验}

/*begin code for*/
\subsection{题目/*code title*/}
源代码：
\lstinputlisting[style=ccode]{/*code file*/}

运行结果：
/*begin output for*/
测试/*test number*/
\lstinputlisting[style=cmd]{/*output file*/}
/*end output for*/

/*end code for*/
\section{问题}
无

\end{document}